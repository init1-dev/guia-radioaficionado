(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))L(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&L(i)}).observe(document,{childList:!0,subtree:!0});function n(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function L(e){if(e.ep)return;e.ep=!0;const t=n(e);fetch(e.href,t)}})();document.querySelectorAll(".toc-link").forEach(s=>s.addEventListener("click",o=>{o.preventDefault(),document.querySelector(s.getAttribute("href")).scrollIntoView({behavior:"smooth",block:"start"})}));const A=document.querySelectorAll("nav a"),S=Array.from(document.querySelectorAll("article section"));window.addEventListener("scroll",()=>{let s=S.findIndex(n=>n.getBoundingClientRect().top>120);s===-1&&(s=S.length-1),A.forEach(n=>n.classList.remove("active"));const o=S[Math.max(0,s-1)];if(o){const n=document.querySelector('nav a[href="#'+o.id+'"]');n&&n.classList.add("active")}});document.addEventListener("DOMContentLoaded",()=>{const s=document.getElementById("toc-toggle-btn"),o=document.getElementById("toc-close-btn"),n=document.getElementById("toc"),L=document.getElementById("overlay"),e=()=>{n.classList.add("toc-mobile-open"),document.body.classList.add("overlay-active")},t=()=>{n.classList.remove("toc-mobile-open"),document.body.classList.remove("overlay-active")};s.addEventListener("click",e),o.addEventListener("click",t),L.addEventListener("click",t);const i=document.querySelector("header"),E=document.getElementById("search"),x=i.querySelector('div[style*="min-width"]'),f=document.getElementById("index-list");function I(){window.innerWidth<=900?E.parentElement!==n&&n.insertBefore(E,f):E.parentElement!==i&&i.insertBefore(E,x)}I(),window.addEventListener("resize",I);const q=document.getElementById("main");if(!f||!q){console.error("No se pudo encontrar la lista del índice o el artículo principal.");return}f.innerHTML="";const B=q.querySelectorAll("section"),T=c=>c.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,""),b=document.createElement("li");b.innerHTML='<li><a href="#hero-banner" class="toc-link toc-h2">Guía del Radioaficionado</a></li>',f.appendChild(b),B.forEach((c,w)=>{const r=c.querySelector("h2");if(!r)return;const a=c.id,C=`${w+1}. ${r.textContent}`,v=document.createElement("li"),l=document.createElement("details"),d=document.createElement("summary"),u=document.createElement("span");u.textContent=C,u.classList.add("toc-link","toc-h2"),d.appendChild(u);const m=c.querySelectorAll("h3");if(d.addEventListener("click",h=>{h.preventDefault(),m.length>0?l.open?l.open=!1:(l.open=!0,location.hash=a):location.hash=a}),l.appendChild(d),m.length>0){const h=document.createElement("ul");m.forEach(p=>{const y=p.id||T(`${a}-${p.textContent}`);p.id=y,h.innerHTML+=`<li><a href="#${y}" class="toc-link toc-h3">${p.textContent}</a></li>`}),l.appendChild(h)}else l.classList.add("empty");window.innerWidth<=900&&t(),v.appendChild(l),f.appendChild(v)});const g=document.getElementById("q");g&&g.addEventListener("input",()=>{const c=g.value.toLowerCase().trim();f.querySelectorAll(":scope > li").forEach(r=>{const a=r.querySelector("details"),C=r.querySelector(".toc-h2"),v=r.querySelectorAll("ul > li"),d=C.textContent.toLowerCase().includes(c);let u=!1;v.forEach(m=>{const y=m.querySelector("a").textContent.toLowerCase().includes(c);d||y?(m.style.display="",y&&(u=!0)):m.style.display="none"}),d||u?r.style.display="":r.style.display="none",a&&(c&&u&&!d?a.open=!0:c||(a.open=!1))})})});
