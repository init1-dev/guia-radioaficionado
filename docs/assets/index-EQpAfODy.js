(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const s of e.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function c(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function i(t){if(t.ep)return;t.ep=!0;const e=c(t);fetch(t.href,e)}})();const x={version:"1.0.1",updateDate:"07/11/2025",updateVersion(){const o=document.querySelectorAll(".version"),n=document.querySelector(".updateDay"),c=document.querySelector(".updateDate");o&&o.forEach(l=>l.textContent=this.version);let i;if(this.updateDate){const l=this.updateDate.includes("/")?String(this.updateDate).split("/"):String(this.updateDate).split("-"),[d,p,h]=l;i=new Date(`${h}-${p}-${d}`)}else i=new Date;const t=i.toLocaleDateString("es-ES",{weekday:"long"}),e=t.charAt(0).toUpperCase()+t.slice(1),s=String(i.getDate()).padStart(2,"0"),a=String(i.getMonth()+1).padStart(2,"0"),u=i.getFullYear(),f=`${s}/${a}/${u}`;n&&(n.textContent=e),c&&(c.textContent=f)}},E=o=>o.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,""),r=(o,n=document)=>n.querySelector(o),v=(o,n=document)=>Array.from(n.querySelectorAll(o));function b(){document.addEventListener("click",o=>{const n=o.target.closest(".toc-link");if(!n)return;const c=n.getAttribute("href");if(!c||!c.startsWith("#"))return;o.preventDefault();const i=document.querySelector(c);i&&i.scrollIntoView({behavior:"smooth",block:"start"})})}function w(){const o=r("#toc-toggle-btn"),n=r("#toc-close-btn"),c=r("#toc"),i=r("#overlay");if(!c)return;const t=()=>{c.classList.add("toc-mobile-open"),document.body.classList.add("overlay-active")},e=()=>{c.classList.remove("toc-mobile-open"),document.body.classList.remove("overlay-active")};o&&o.addEventListener("click",t),n&&n.addEventListener("click",e),i&&i.addEventListener("click",e);const s=r("header"),a=r("#search"),u=s?s.querySelector('div[style*="min-width"]'):null,f=r("#index-list");function l(){!a||!s||!c||(window.innerWidth<=900?a.parentElement!==c&&f&&c.insertBefore(a,f):a.parentElement!==s&&u&&s.insertBefore(a,u))}return l(),window.addEventListener("resize",l),{closeToc:e,openToc:t}}function q(o){const n=r("#index-list"),c=r("#main");if(!n||!c){console.error("No se pudo encontrar la lista del índice o el artículo principal.");return}n.innerHTML="";const i=document.createElement("li");i.innerHTML='<li><a href="#hero-banner" class="toc-link toc-h2">Guía del Radioaficionado</a></li>',n.appendChild(i),c.querySelectorAll("section").forEach((e,s)=>{const a=r("h2",e);if(!a)return;const u=e.id||E(a.textContent);e.id=u;const f=`${s+1}. ${a.textContent}`,l=document.createElement("li"),d=document.createElement("details"),p=document.createElement("summary"),h=document.createElement("span");h.textContent=f,h.classList.add("toc-link","toc-h2"),p.appendChild(h),p.addEventListener("click",L=>{L.preventDefault(),e.querySelectorAll("h3").length>0?(d.open=!d.open,d.open&&(location.hash=u)):location.hash=u}),d.appendChild(p);const m=e.querySelectorAll("h3");if(m.length>0){const L=document.createElement("ul");m.forEach(y=>{const g=y.id||E(`${u}-${y.textContent}`);y.id=g;const S=document.createElement("li");S.innerHTML=`<a href="#${g}" class="toc-link toc-h3">${y.textContent}</a>`,L.appendChild(S)}),d.appendChild(L)}else d.classList.add("empty");window.innerWidth<=900&&typeof o=="function"&&o(),l.appendChild(d),n.appendChild(l)})}function A(){const o=v("nav a");let n=v("article section");function c(){n=v("article section");let i=n.findIndex(e=>e.getBoundingClientRect().top>120);i===-1&&(i=n.length-1),o.forEach(e=>e.classList.remove("active"));const t=n[Math.max(0,i-1)];if(t){const e=r(`nav a[href="#${t.id}"]`);e&&e.classList.add("active")}}window.addEventListener("scroll",c,{passive:!0}),c()}function D(){const o=r("#q"),n=r("#index-list");!o||!n||o.addEventListener("input",()=>{const c=o.value.toLowerCase().trim();Array.from(n.children).forEach(t=>{const e=r("details",t),s=r(".toc-h2",t),a=Array.from(t.querySelectorAll("ul > li")),f=(s?s.textContent.toLowerCase():"").includes(c);let l=!1;a.forEach(d=>{const p=r("a",d),m=(p?p.textContent.toLowerCase():"").includes(c);d.style.display=f||m?"":"none",m&&(l=!0)}),t.style.display=f||l?"":"none",e&&(c&&l&&!f?e.open=!0:c||(e.open=!1))})})}function C(){x.updateVersion(),b();const o=w();q(o&&o.closeToc),A(),D()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",C):C();
